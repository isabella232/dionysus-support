{{ define "main" }}
{{ partial "util/page-description.html" . }}

<form method="get" action="{{ `search` | absURL }}" role="form">
  <div class="input-group">
    <input id="search-query" class="form-control border" type="search" name="q" required placeholder="Search" aria-label="Search">
    <button class="btn btn-primary ml-2" type="submit">
      <i class="fa fa-search"></i> Search
    </button>
  </div>
</form>

<!-- search results container -->
<div id="search-results"></div>

<!-- search results template -->
<script id="search-result-template" type="text/x-js-template">
  <div id="search-result-${key}" class="search-result">
    <h4 class="title">
      <a href="${link}">${ isset glyph }<i class="${glyph}"></i> ${ end }${title}</a>
    </h4>
    ${ isset subtitle }<p class="subtitle">${subtitle}</p>${ end }
    <p class="snippet">${snippet}</p>
    <table class="metadata">
      ${ isset tags }<tr><td class="key">Tags</td><td class="value">${tags}</td></tr>${ end }
      ${ isset categories }<tr><td class="key">Categories</td><td class="value">${categories}</td></tr>${ end }
    </table>
  </div>
</script>
{{ end }}